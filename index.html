<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  
  <title>Acceso UCI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { background-color: #f0f4f8; background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 24px 24px; font-family: system-ui, sans-serif; }
    .glass-card { background: linear-gradient(145deg, #ffffff, #f8fafc); }
    .modal-backdrop { background-color: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); }
    .login-glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.5); }
    ::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
  </style>
  <script> tailwind.config = { theme: { extend: { colors: { lime: { 100: '#ecfccb', 600: '#65a30d' } } } } } </script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;
    const PATIENTS = [
  {
    "id": "rea-1",
    "numero_cama": "1",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "77 años",
    "sexo": "M",
    "dias_estancia": "1er día",
    "antecedentes": "Enfermedad coronaria de 3 vasos, HTA, DLP. Déficit de G6PDH (RAM: AAS y medicación que genere hemólisis). IQx: Amigdalectomía, Colecistectomía, Histerectomía + doble anexectomía.",
    "plan": "Control postoperatorio en Unidad de Reanimación.",
    "sistemas": {
      "neurologico": "Llega Consciente y Orientada. Intubada para control postoperatorio.",
      "hemodinamico": "TA 135/65 mmHg, FC 76 lpm. Necesidad de perfusión de Noradrenalina durante CEC. Tras desclampaje de aorta, RS a 65 lpm, conectado a MCP VVI a 80 lpm.",
      "respiratorio": "SpO2 96%. Intubada con TET 7 mm. Mantenimiento O2/Aire, Sevofluorano.",
      "renal": "No se especifica función renal, diuresis no reportada.",
      "infeccioso": "No hay datos de infección o fiebre.",
      "coagulacion_hemostasia": "Heparinización (180 mg), transfusión de 2 CH, Protamina (250 mg).",
      "digestivo": "No se reportan hallazgos específicos del sistema digestivo.",
      "otros": "Cirugía cardiaca programada (doble bypass). Catéter epidural en T2-T3, catéter arterial radial izquierdo, catéter venoso en yugular interna derecha. TCEC 71 min, TISQ 44 min."
    }
  },
  {
    "id": "rea-2",
    "numero_cama": "2",
    "unidad": "REA",
    "estado": "Estable",
    "edad": "63 años",
    "sexo": "H",
    "dias_estancia": "1er día",
    "antecedentes": "Carcinoma epidermoide tercio medio esofágico. Glaucoma, Hipertransaminemia con Esteatosis hepática. Esofagitis, duodenitis, gastritis h pylor tratada. Bebedor (1 L cerveza/día), Fumador. Enfisema grave (FVC 67%, FEV1 37%, DLCO 29%). IQx: Cataratas, Acondicionamiento gástrico.",
    "plan": "Control postquirúrgico en UCIQ.",
    "sistemas": {
      "neurologico": "Consciente y orientado al ingreso. Educción y extubación sin incidencias.",
      "hemodinamico": "TA 135/80 mmHg, RS a 75 lpm. Monitorización hemodinámica guiada por objetivos. Sangrado estimado 150 ml.",
      "respiratorio": "SatpO2 94-95% basal. Mala tolerancia a ventilación con capnotórax (FiO2 80% para SatpO2 93% introp). Decalaje EtCO2 y pCO2 atribuido a enfisema grave. Extubado sin incidencias.",
      "renal": "Diuresis correcta. Lácticos seriados < 1.",
      "infeccioso": "No hay datos de infección o fiebre. Profilaxis antibiótica no especificada.",
      "coagulacion_hemostasia": "TEG dentro de la normalidad, tendencia al sangrado en relación con hepatopatía.",
      "digestivo": "Esofaguectomía en tres campos, confección de plastia gástrica. Patología respiratoria por enfisema grave. Higado con esteatosis hepática.",
      "otros": "Catéter epidural T9-T10, catéter arterial radial izquierda, CVC yugular interna derecha, sondaje vesical."
    }
  },
  {
    "id": "rea-3",
    "numero_cama": "3",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "59 años",
    "sexo": "H",
    "dias_estancia": "3er día postoperatorio (2do día en REA)",
    "antecedentes": "Perforación intestinal (IQx: Laparoscopia exploradora + colostomía en asa). RAM: Betalactámicos (shock anafiláctico 2016). HTA, DLP. TVP recidivante por Déficit de Proteína C (en Warfarina). Enfermedad VIH C3 (coriorretinitis por CMV y Toxoplasma). Condilomas anales. Carcinoma epidermoide perianal Estadio inicial IIA (T2N0M0), actual T3 (muy alto riesgo), recidiva tumoral.",
    "plan": "Aumentar PC de Morfina a 2.5 ml/h. Pautar Enoxaparina 60 mg/12h. Pasar a GNAF 50/50. Pedir nueva Rx de tórax. Pautar 40 mEq de ClK y 30 mmol de fosfato monosódico. Pendiente niveles de Vancomicina. Pendiente cultivo líquido peritoneal. Realizar IC a UEI para manejo antibiótico y antirretroviral. Vigilar MP, SNG y colostomía. Pautar nuevo Glucosmon. Vigilar glucemias.",
    "sistemas": {
      "neurologico": "Consciente, orientado y colaborador, sin focalidad neurológica. RASS: 0, GCS: 15. Regular control del dolor, se aumenta PC Morfina.",
      "hemodinamico": "Anoche aumento de necesidades de Noradrenalina hasta 22 ml/h, actualmente PC de Noradrenalina a 15 ml/h para TAM >65mmHg. RS a 100 lpm. Soplo sistólico.",
      "respiratorio": "Eupneico con VMK 15 l FiO2 50%, SatO2 96%. GSA: pH: 7.29, pCO2: 41, pO2: 52, HCO3: 19.7, láctico: 3.3. Murmullo vesicular conservado. Empeoramiento de SatO2, requiere paso de GN a VMKS (planificado a GNAF).",
      "renal": "FRA con aumento de Cr a 1.16 mg/dL (previa 1.65, basal 0.85). Urea: 46 mg/dl. Diuresis: 1395 cc ayer, Balance: +3289 cc ayer. Sodio: 139, Potasio: 3.3, Cloro: 112, Magnesio: 2.44, Fosfato: 2.3. EVP con albúmina y Ionolyte.",
      "infeccioso": "Afebril. Leucopenia 2200, PCR (16.54 -> 39.79), Procalcitonina 16.00. Tto: Aztreonam + Metronidazol + Vancomicina + Anidulafungina (cambio por RAM a betalactámicos).",
      "coagulacion_hemostasia": "Hgb: 14.8 g/dl. Coagulación alterada (APTT RATIO 1.38, Tiempo de Protrombina 22.8 segundos, INR 2.06, Índice de Quick 38%) por Warfarina y déficit de proteína C. Sin signos de sangrado.",
      "digestivo": "Abdomen duro, doloroso a la palpación generalizada (zona heridas quirúrgicas). Peristaltismo disminuido. SNG con débito 500 cc ayer. MP sin débito. Colostomía con mínimo débito, edematizada. GOT: 97, GPT: 24. Episodios de hipoglucemia persistentes. Dieta absoluta. TAC abdominal urgente: ausencia de realce parietal en asa eferente próxima al estoma (sospecha isquemia)."
    }
  },
  {
    "id": "rea-4",
    "numero_cama": "4",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "40 años",
    "sexo": "H",
    "dias_estancia": "15 días en REA/UCCQ (Ingreso Hospitalario 30/12/25)",
    "antecedentes": "TCE grave tras precipitación, cerebritis. Obesidad, SAOS, Hiperuricemia. IQx: Craniectomía descompresiva.",
    "plan": "Intentar reducir dosis de Propofol post-quirúrgico. Hoy IQ (solo Friedrich - desbridamiento). Realizar nuevos niveles de Keppra el martes 03/02. Vigilancia de secreciones mucopurulentas. Continuar ventilación en PS. Vigilancia de hipernatremia, urea. Evitar balances negativos excesivos. Si continúa hipernatrémico, aumentar agua libre por sonda y por SNG, retirar Ionolyte. Vigilancia de colestasis disociada. Si fiebre, realizar Hemocultivo. Considerar ajuste de antibióticos si mejora función renal. Plan general: ajuste medicación para agitación de cara a alta a planta y pasar de PS a O2T si buena evolución.",
    "sistemas": {
      "neurologico": "Sedado con Propofol (18 ml/h), Clonidina, Haloperidol, Quetiapina, Clonazepam para control de agitación. BIS 45. Apertura ocular espontánea, PINR. No nuevos episodios epileptiformes desde hace 4 días. Tto antiepiléptico: Keppra, Lacosamida. Lóculo abombado fluctuante en herida Qx.",
      "hemodinamico": "Estable sin requerimiento de aminas (TAM >70mmHg). RS con FC aprox. 90lpm. Hb 8.3 g/dl (ayer 8.9). Lactato 1.1.",
      "respiratorio": "Portador de TQT en modalidad CPAP PS 8/8 y FiO2 0.4, SatO2 >95%. Secreciones mucopurulentas. BAS: Candida tropicalis + Enterobacter hormaechei.",
      "renal": "Portador de sondaje vesical. Diuresis espontáneas con tendencia a la poliuria. Balance hídrico -1199ml. AKI-3 en fase de mejoría. Cr 3.09 mg/dL (ayer 3.23). Urea 116. Hipernatremia (Na 146). Último diálisis 24/01.",
      "infeccioso": "Afebril. Tto: Ceftarolina 300mg/12h + Cefepime 1g/12h (ambos ajustados a FG) y Fluconazol 400mg/24h. Leucocitos 11.770, PCR 8.32. Múltiples cultivos positivos (Staphylococcus epidermidis, Proteus mirabilis BLEE, Candida tropicalis, Enterobacter hormaechei).",
      "coagulacion_hemostasia": "Tromboprofilaxis con Tinzaparina 4.500U. Plaquetas 276.000.",
      "digestivo": "Portador de SNG con NE (High protein) a 60ml/h con buena tolerancia. Glucemias controladas. Deposiciones. Colestasis disociada (GGT 871, FA 264, GPT 74). Se propone cambio a NEPRO LP. Lleva agua por SNG 200ml /6h."
    }
  },
  {
    "id": "rea-5",
    "numero_cama": "5",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "58 años",
    "sexo": "M",
    "dias_estancia": "12 días",
    "antecedentes": "Ictus ACM izquierda con trombectomía mecánica fallida (TICI 0), evolución a infarto maligno. HTA (210-220/110) de larga evolución, DM tipo 2, Obesidad. Enfermedad renal crónica estadio 3A. Monorrena funcional.",
    "plan": "Pendiente de EEG y niveles; valoración neurológica para consensuar actitud. Informar a Grace (familiar) por la tarde sobre el mal pronóstico.",
    "sistemas": {
      "neurologico": "Ventana neurológica fallida por estatus epiléptico suprarrefractario. Sedación con Propofol a 22 ml/h para brote supresión (BIS +/- 30). RASS -5. PIC con respuesta lenta. Tto: Valproico, Levetiracetam, Perampanel, Lacosamida. TAC 27/01: infarto maligno con edema y desviación línea media 4 mm. Pronóstico a largo plazo desfavorable.",
      "hemodinamico": "Requerimiento de Noradrenalina a dosis bajas (1-2ml/h) para TAM >75mmHg. PC de Aleudrina a dosis bajas por FA lenta (60-70 lpm). 2CH hace 48h. Hb 10.5 g/dl. Lactato 1.",
      "respiratorio": "IOT desde hace 12 días, en SIMV VC. Buena adaptación al respirador, buen intercambio gaseoso. SatO2 >95%. Sin secreciones. Tto broncodilatador.",
      "renal": "Diuresis adecuada con furosemida. Función renal ligeramente alterada (conocida). Ionograma normal.",
      "infeccioso": "Afebril, sin tratamiento antibiótico. No aspecto de sepsis. Cultivos negativos.",
      "coagulacion_hemostasia": "Tromboprofilaxis con Enoxaparina 40mg c/24h y antiagregación con AAS 100mg. Coagulación convencional y plaquetas normales.",
      "digestivo": "SNG en tratamiento con NE a dosis plenas. Glucemias controladas con insulina. Deposición positiva. Abdomen blando, sin peritonismo. Enzimas hepáticas mínimamente elevadas (patrón colestásico), bilirrubina en rango."
    }
  },
  {
    "id": "rea-6",
    "numero_cama": "6",
    "unidad": "REA",
    "estado": "Estable",
    "edad": "63 años",
    "sexo": "H",
    "dias_estancia": "1er día",
    "antecedentes": "Eventroplastia por Oclusión intestinal + Eventración post-nefrectomía + FRA.",
    "plan": "Inspirometría incentivadora. Ajustar dosis de antibióticos y Seguril según evolución de la función renal. Valorar ampliar cobertura antibiótica si empeoramiento infeccioso. Probar agua esta tarde/mañana.",
    "sistemas": {
      "neurologico": "Consciente y Orientado. Buen estado general, no presenta dolor con analgesia de primer escalón.",
      "hemodinamico": "Estable sin necesidad de aminas. RS 75 lpm. Hb 12.7 g/dl, lactato 1.1.",
      "respiratorio": "Eupneico con GN 2-3 lpm, buen intercambio gaseoso. Hipoventilación base derecha. GSA (GN): pH 7.43, pCO2 54, pO2 108, HCO3 35, SatO2 98%.",
      "renal": "FRA en mejoría tras EVP. Diuresis > 1ml/kg/h (150-200ml/h). Creatinina 5.8 (previa 6). Sodio 133, Potasio 3.4, Fósforo 7. PC Seguril a 4 ml/h. Sin edemas. Catéter Shaldon en VYD no usado.",
      "infeccioso": "Afebril. Leucocitos 17.000, PCR 3.18. Tto: Augmentine 500/12h.",
      "coagulacion_hemostasia": "Coagulación normal. Inicio de Tinzaparina profiláctica.",
      "digestivo": "Abdomen blando y depresible, no doloroso a la palpación. No signos de irritación peritoneal."
    }
  },
  {
    "id": "rea-7",
    "numero_cama": "7",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "?",
    "sexo": "M",
    "dias_estancia": "2º DPO, 1er día en REA",
    "antecedentes": "Perforación rectosigmoidea (IQx: Laparatomía exploradora + colostomía en asa). Inestabilidad hemodinámica y anemización pre-ingreso en REA.",
    "plan": "Retirar por completo Noradrenalina según tolerancia. Pautar Seguril 10mg si precisa. Iniciar Nutrición Parenteral.",
    "sistemas": {
      "neurologico": "Consciente, orientada en tiempo y espacio. Obedece órdenes, colaboradora. Pupilas isocóricas y reactivas.",
      "hemodinamico": "TA 125/80 con PC de Noradrenalina 1ml/h. Ritmo sinusal a 75lpm. AC rítmica. Previamente trasfusión de 2CH.",
      "respiratorio": "Eupneica en reposo. Sat O2 98% sin GN. Buena mecánica ventilatoria. GSA: Ph 7.32, pCO2 39, pO2 93, Bicarbonato 20.1, Lactato 3.7. MVC sin ruidos sobreañadidos.",
      "renal": "Portadora de sonda suprapúbica. Diuresis: 600ml en 7h. Cr 0.45. FG>90. No edemas en miembros inferiores.",
      "infeccioso": "Afebril. PCR 34.68 (similar últimas 48h). No leucocitosis. Lactato 3.7.",
      "coagulacion_hemostasia": "Trasfusión de 2CH ayer. Hb 9.7 g/dl, Hct 30.2%. Plaquetas 311.000. Coagulación en rango. No evidencia de sangrado activo ni TVP. Profilaxis con Bemiparina 3500UI/24h.",
      "digestivo": "Portadora de SNG. En dieta absoluta. Portadora de colostomía. No distensión abdominal. Leve dolor a la palpación profunda. Enzimas de citolisis en rango. Enzimas de colestasis elevadas (GGT 101, FA 244, Bilirrubina 0.59). Se inicia Nutrición parenteral (M2)."
    }
  },
  {
    "id": "rea-8",
    "numero_cama": "8",
    "unidad": "REA",
    "estado": "?",
    "edad": "?",
    "sexo": "?",
    "dias_estancia": "?",
    "antecedentes": "Sin paciente.",
    "plan": "Sin paciente.",
    "sistemas": {
      "neurologico": "Sin paciente.",
      "hemodinamico": "Sin paciente.",
      "respiratorio": "Sin paciente.",
      "renal": "Sin paciente.",
      "infeccioso": "Sin paciente.",
      "coagulacion_hemostasia": "Sin paciente.",
      "digestivo": "Sin paciente."
    }
  },
  {
    "id": "rea-9",
    "numero_cama": "9",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "?",
    "sexo": "?",
    "dias_estancia": "Prolongada, TQT desde el 16/01",
    "antecedentes": "Shock hemorrágico pre e intraoperatorio (politransfusión). FRA anúrico (precisó TRRC, actualmente HD intermitente). Elevación de transaminasas. Distensión abdominal. Aneurisma. Colitis isquémica. Hemocultivos positivos (Staphylococcus epidermidis, Cocos Gram positivos).",
    "plan": "Mantener Amiodarona oral 200mg/24h. Subir Amlodipino de 10mg a 20mg. Subir Bisoprolol de 2.5mg/24h a 5mg/24h. Añadir Doxazosina 8mg/24h. Suspender PC Clevidipino. Continuar con destete con periodos de O2 en T; a media mañana se procede a sentar al paciente y lo tolera bien. Mantener PC de Bicarbonato 1/6M. Diálisis ayer a cargo de Nefrología. Si fiebre, cambiar vías. Mantener misma antibioterapia. Pendientes resultados definitivos de Hemocultivo 31/01 y Cultivo líquido pleural 28/01.",
    "sistemas": {
      "neurologico": "Consciente y aparentemente orientado. Menos somnoliento. Precisa Dexdor nocturno (últimas 3 noches no). Tto: Olanzapina 10 mg/noche.",
      "hemodinamico": "Estable con tendencia a la HTA (TA 152/67 mmHg). PC de Clevidipino a 7 ml/h. Amlodipino 10mg SNG, Bisoprolol 2.5mg/24h. RS a 85 lpm con extrasístoles ventriculares. Amiodarona oral 200mg/d. Láctico 1.2. Úlcera en punta del 1er dedo del pie. EcoDoppler venoso MID sin TVP.",
      "respiratorio": "TQT percutánea (16/01). CPAP PS 6/6. FiO2 0.35%. Período de 3h O2T. MV disminuido base derecha, roncus abundantes. GSA PS: pH 7.38, pCO2 32, pO2 76, HCO3 18.9, Lact: 1.2. Rx Tórax: mejoría radiológica tras drenaje de derrame pleural.",
      "renal": "Diálisis ayer. Edemas con fóveas en MMII. Cr 5.14 mg/dL (previa 6). Urea 329 mg/dL (previa 263). Buen ritmo diurético. Furosemida 20 mg/12h. BH +112 ml. Iones: K 3.6, Na 141.",
      "infeccioso": "Afebril. PCR 15.15 (descenso). Leucocitos 21.150 (descenso). Tto: Ceftolozano/Tazobactam, Daptomicina, Anidulafungina. Hemocultivo 31/01: Cocos Gram positivos (compatible con Estafilococos). Múltiples colonizaciones y cultivos previos (E.Coli BLEE, Pseudomona Aeruginosa, Enterococus Faecium, Cándida Albicans, Staphylococcus epidermidis).",
      "coagulacion_hemostasia": "Hb 8.1 g/dl. Plaquetas 380.000. AAS 100 mg/d. Tinzaparina 4.500/d sc.",
      "digestivo": "Dieta absoluta, Nutrición parenteral. Abdomen menos distendido y timpánico, ruidos metálicos. SNG: débito verdoso en pequeña cuantía. Enzimas hepáticas de citolisis normalizadas; colestasis elevadas (GGT 166, FA 241, BilT 0.99). TAC 22/1: Moderada distensión de intestino, sin nivel obstructivo. Colonoscopia 29/01: signos de colitis isquémica."
    }
  },
  {
    "id": "rea-10",
    "numero_cama": "10",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "?",
    "sexo": "?",
    "dias_estancia": "5º día",
    "antecedentes": "DLAo + estenosis de DA (IQx: SvAo biológica + BP a DAm - AMII). HTA y DLP. ERC (alteración urea y Cr desde 2025). Hemocromatosis (homocigoto C282Y). Hematuria post-RTU con anemización (16 u CH). Estenosis del canal lumbar. BAV completo. Coagulopatía progresiva.",
    "plan": "Si persistencia de deterioro en coagulación, ecocardiograma para descartar disfunción VD vs taponamiento. Si no recupera ritmo, IC a electrofisiología. Vigilar coagulación y Hb. Inicio profilaxis de TVP con medias de compresión neumática intermitente. Realizar ecografía para confirmar derrame pleural. Forzar balances negativos. Aumento de furosemida a 20 mg/6h.",
    "sistemas": {
      "neurologico": "Consciente, orientado y colaborador, sin focalidad neurológica. GCS: 15. Analgesia epidural con ropivacaína suspendida ayer, sin dolor con paracetamol.",
      "hemodinamico": "Noradrenalina y Dobutamina suspendidas. Tendencia a HTA (TA 140/60 mmHg). Buena perfusión periférica. Lac 1.1. En ritmo de MP VVI a 60 lpm. BAV completo sin escape a 30 lpm. Troponina I en descenso. IC: 2.8, VS:73, SatVO2: 65%. Drenajes torácicos retirados hace 48h.",
      "respiratorio": "Excelente mecánica respiratoria. SatO2: 100% con GN 4lpm. MV disminuido en hemitórax izquierdo, sugerente de derrame pleural. GSA: pH 7.41, pCO2 32, pO2 143, HCO3 20.3.",
      "renal": "Deterioro inicial de función renal en fase de meseta/descenso. Diuresis 1625 cc, Balance +1367 ayer (acumulado > 6L). Edemas en zonas declives y MSI. Urea 88, Cr 1.95. Sodio 132, Potasio 3.8. Furosemida (20 mg/8h).",
      "infeccioso": "Afebril. Leucocitos 7.58, PCR 9.88. Sin tratamiento antibiótico.",
      "coagulacion_hemostasia": "Empeoramiento progresivo de INR 1.65, IQ 47%. Hb 9.5 g/dl (tras 2CH ayer por Hb 7.6). Plaquetas 157. Antiagregación con AAS iniciada. Sin profilaxis con HBPM ni medias de compresión neumática previamente.",
      "digestivo": "Abdomen blando y depresible, no doloroso, peristaltismo presente. Bilirrubina total: 0.57. Enzimas hepáticas sin alteraciones significativas. Glucemias bien controladas. Proteínas totales 5.6. Tolerancia oral completa. Sin deposiciones."
    }
  },
  {
    "id": "rea-11",
    "numero_cama": "11",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "65 años",
    "sexo": "H",
    "dias_estancia": "5º día postoperatorio",
    "antecedentes": "Hemorragia digestiva alta (gran úlcera con sangrado activo en jet). IQx: Laparotomía (hemostasia, cierre duodenal. Hígado metastásico). Melanoma Coroideo Ojo Izquierdo Estadio IV (sosp. LOEs hepáticas y adenopatías). Fumador activo, Enolismo, DLP, Obesidad. Tto: Pravastatina.",
    "plan": "Mantener sedación. Descenso progresivo de Noradrenalina. Solicitado recuento manual de plaquetas y 1PP. Cambiar terapia Prisma a anticoagulado con citrato bajo vigilancia de función hepática. Mantener antibioterapia. Reiniciar perfusión de Omeprazol 80mg/c24h. Retirar iones de nutrición parenteral. Vigilar función hepática.",
    "sistemas": {
      "neurologico": "IOT por disnea subjetiva. Sedado con Propofol 2% a 21ml/h. BIS 45-60. Pupilas reactivas a la luz y simétricas, lado izquierdo levemente más perezosa.",
      "hemodinamico": "Inestable con necesidad de PC de Noradrenalina (14-16 ml/h) para TAM > 65 mmHg. Mala perfusión distal crónica y aguda, relleno capilar enlentecido.",
      "respiratorio": "Intubado por disnea progresiva. GSA (FiO2 50%): pH 7.24, pO2 157, pCO2 39, HCO3 20, EB: -5.1, Láctico 3. Pa/Fi 300. Hipofonesis en bases. Derrame pleural bilateral (más marcado izquierdo), ascitis. Patrón alveolo-intersticial difuso en Rx.",
      "renal": "Actualmente con TTRR en HDFVVC. Diuresis 2218 ml/24h. FRA con Cr. 1.75. Urea: 46. Fóvea generalizados y patrón pulmonar de sobrecarga hídrica. Iones: Sodio 133, Calcio iónico 7.9, Fosfato 2. Coagulación repetida de prisma.",
      "infeccioso": "Afebril. Leucocitos: 14.000, PCR: 21.0, Procalcitonina 5. Tto: Piperacilina/Tazobactam, Linezolid, Anidulafungina. Cultivos pendientes (frotis rectal, faríngeo, hemocultivos).",
      "coagulacion_hemostasia": "Hb: 8.2 g/dl. Plaquetas 29.000. Coagulopatía: APTTr 2.00, INR 1.37, Quick: 61%. TEG alterado. Se solicita recuento manual de plaquetas y 1PP.",
      "digestivo": "Abdomen distendido, sobre todo flanco derecho, peristaltismo ausente. Drenaje con salida de líquido seroso (total 1650 ml). SNG con escasos restos hemáticos. Bilirrubina total: 5.72 (directa: 4.66). GOT: 278, GPT: 179. Fallo hepático agudo secundario a hepatitis isquémica multifactorial en un hígado con infiltración metastásica previa. NPT 1500ml. Proteínas totales: 4.1 g/dl. Reinicio perfusión Omeprazol."
    }
  },
  {
    "id": "rea-12",
    "numero_cama": "12",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "61 años",
    "sexo": "H",
    "dias_estancia": "1er día",
    "antecedentes": "Doble by-pass Ao-Co por enfermedad isquémica crónica. HTA, DLP, Tabaquismo (6 cig/día), Bebedor ocasional. VHC sin tto, Sífilis +. EAo ligera. IAMSEST con enfermedad de 3 vasos. IQx: Apendicectomía.",
    "plan": "Control postoperatorio en Unidad de Reanimación.",
    "sistemas": {
      "neurologico": "Llega Consciente y Orientado a quirófano. Intubado para traslado a Reanimación.",
      "hemodinamico": "TA: 130/75 mmHg. FC: 55 lpm. Precisa Noradrenalina desde la inducción a dosis 3-5 ml/h. Heparinización (250 mg), Protamina (400 mg).",
      "respiratorio": "SpO2: 96%. Intubado con TET: 7.5mm.",
      "renal": "Diuresis horaria monitorizada.",
      "infeccioso": "No hay datos de infección o fiebre. Profilaxis antibiótica no especificada.",
      "coagulacion_hemostasia": "Heparinización y protamina administradas. Sin hemoderivados intraoperatorios.",
      "digestivo": "No se reportan hallazgos específicos del sistema digestivo.",
      "otros": "Monitorización PAI, PVC, Tª central, ETE. Catéter arterial radial izquierdo, CVC yugular interna derecha."
    }
  },
  {
    "id": "ucin-1",
    "numero_cama": "1",
    "unidad": "UCIN",
    "estado": "Estable",
    "edad": "47 años",
    "sexo": "M",
    "dias_estancia": "1er día",
    "antecedentes": "Adenocarcinoma de cabeza de páncreas (IQx: DPC por Da Vinci). DUDOSA ALERGIA A METAMIZOL. IQx: Legrado. Tto habitual: Fentanilo en parches, Lyrica, Kreon, Omeprazol, Paracetamol.",
    "plan": "Control postoperatorio en la Unidad de Cuidados Críticos Quirúrgicos/UCIN.",
    "sistemas": {
      "neurologico": "Despertar y extubación en Quirófano sin incidencias. Sin focalidad aparente.",
      "hemodinamico": "Estable. TA: 110/70 mmHg. FC: 80 lpm. HMD estable con tendencia a taquicardia sinusal e HTA con la laparoscopia.",
      "respiratorio": "Intubación sin incidencias. Ventilación fácil. Extubación sin incidencias. SpO2 99%.",
      "renal": "Diuresis clara.",
      "infeccioso": "No hay datos de infección o fiebre. Profilaxis antibiótica no especificada.",
      "coagulacion_hemostasia": "No se reportan alteraciones de la coagulación. Sin hemoderivados.",
      "digestivo": "Duodenopancreatectomía cefálica. Tratamiento con Kreon, Omeprazol.",
      "otros": "Analgesia multimodal (Enantyum, Paracetamol, Morfina iv, bloqueo TAP bilateral, Lidocaína). Antieméticos (Dexametasona, Granisetron). CVC yugular derecha, arteria radial izquierda, sondaje vesical."
    }
  },
  {
    "id": "ucin-2",
    "numero_cama": "2",
    "unidad": "UCIN",
    "estado": "Estable",
    "edad": "67 años",
    "sexo": "H",
    "dias_estancia": "1er día",
    "antecedentes": "Estenosis carotídea bilateral (70% izquierda y 50% derecha). DM2, HTA, DLP. AITs hemodinámicos atribuidos a ortostatismo. SAOS con CPAP. Lumbociatalgia. HSA por traumatismo. No RAM.",
    "plan": "Control postquirúrgico en UCCQ.",
    "sistemas": {
      "neurologico": "Consciente y orientado al ingreso. Sin secuelas de ictus previos. Educción anestésica sin complicaciones. Episodio vasovagal intraoperatorio resuelto con atropina y efedrina.",
      "hemodinamico": "Hipertenso pre-operatorio (189/95 mmHg). No sangrado significativo.",
      "respiratorio": "SpO2 97% respirando aire ambiente. Intubación sin incidencias. Extubado sin complicaciones.",
      "renal": "Diuresis monitorizada.",
      "infeccioso": "Profilaxis antibiótica: Cefazolina 2g.",
      "coagulacion_hemostasia": "Heparinización (5.000 UI) y reversión con Protamina (30 mg).",
      "digestivo": "Glucemia 176 pre-op. Refiere suspensión de medicación hipoglucemiante. DM2."
    }
  },
  {
    "id": "ucin-3",
    "numero_cama": "3",
    "unidad": "UCIN",
    "estado": "?",
    "edad": "?",
    "sexo": "?",
    "dias_estancia": "?",
    "antecedentes": "Sin paciente.",
    "plan": "Sin paciente.",
    "sistemas": {
      "neurologico": "Sin paciente.",
      "hemodinamico": "Sin paciente.",
      "respiratorio": "Sin paciente.",
      "renal": "Sin paciente.",
      "infeccioso": "Sin paciente.",
      "coagulacion_hemostasia": "Sin paciente.",
      "digestivo": "Sin paciente."
    }
  },
  {
    "id": "ucin-4",
    "numero_cama": "4",
    "unidad": "UCIN",
    "estado": "?",
    "edad": "?",
    "sexo": "?",
    "dias_estancia": "?",
    "antecedentes": "Sin paciente.",
    "plan": "Sin paciente.",
    "sistemas": {
      "neurologico": "Sin paciente.",
      "hemodinamico": "Sin paciente.",
      "respiratorio": "Sin paciente.",
      "renal": "Sin paciente.",
      "infeccioso": "Sin paciente.",
      "coagulacion_hemostasia": "Sin paciente.",
      "digestivo": "Sin paciente."
    }
  },
  {
    "id": "ucin-5",
    "numero_cama": "5",
    "unidad": "UCIN",
    "estado": "Estable",
    "edad": "82 años",
    "sexo": "H",
    "dias_estancia": "1er día",
    "antecedentes": "Adenocarcinoma pulmonar LSD (IQx: Resección pulmonar VATS). FA (asintomática, detectada en postoperatorio previo, actualmente en RS). Poliglobulia. IQx: Hernioplastia inguinal bilateral, Cataratas. Ex-fumador (40 años). Glucemia basal alterada.",
    "plan": "Control postoperatorio en la Unidad de Cuidados Intermedios Quirúrgicos.",
    "sistemas": {
      "neurologico": "Llega Consciente y Orientado a quirófano. Extubado sin incidencias.",
      "hemodinamico": "TA: 105/62 mmHg. FC: 63 lpm en RS. Tendencia a hipotensión con necesidad de PC de Noradrenalina (hasta 10 mL/h) intraoperatoria. FA en seguimiento por cardiología, actualmente en ritmo sinusal. Anticoagulado.",
      "respiratorio": "SpO2: 97 % con aire ambiente. Preoxigenación. IOT con TET doble luz izquierdo nº 37 Fr. Extubación en Quirófano sin incidencias. Espirometría: FVC 80%, FEV1 83%.",
      "renal": "Diuresis espontánea conservada > 0.5mL/Kg/h.",
      "infeccioso": "Profilaxis antibiótica: Cefazolina 2g. No hay datos de infección o fiebre.",
      "coagulacion_hemostasia": "Anticoagulado por FA.",
      "digestivo": "Glucemia basal alterada."
    }
  },
  {
    "id": "ucin-6",
    "numero_cama": "6",
    "unidad": "UCIN",
    "estado": "?",
    "edad": "?",
    "sexo": "?",
    "dias_estancia": "?",
    "antecedentes": "Sin paciente.",
    "plan": "Sin paciente.",
    "sistemas": {
      "neurologico": "Sin paciente.",
      "hemodinamico": "Sin paciente.",
      "respiratorio": "Sin paciente.",
      "renal": "Sin paciente.",
      "infeccioso": "Sin paciente.",
      "coagulacion_hemostasia": "Sin paciente.",
      "digestivo": "Sin paciente."
    }
  }
];
    const PASSWORD_CORRECTA = "misbalare2720"; // La contraseña se inyecta aquí desde el script

    // --- COMPONENTE DE LOGIN ---
    const LoginScreen = ({ onLogin }) => {
      const [input, setInput] = useState("");
      const [error, setError] = useState(false);

      const handleSubmit = (e) => {
        e.preventDefault();
        // Convertimos a minúsculas para que no importe si escriben "UCI" o "uci"
        if (input.toLowerCase() === PASSWORD_CORRECTA.toLowerCase()) {
          onLogin();
        } else {
          setError(true);
          setInput("");
        }
      };

      return (
        <div className="min-h-screen flex items-center justify-center p-4">
          <div className="login-glass p-10 rounded-3xl shadow-2xl max-w-sm w-full text-center">
            <div className="mb-6 inline-flex p-4 bg-blue-600 rounded-2xl text-white shadow-lg shadow-blue-500/30">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-8 h-8"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
            </div>
            <h1 className="text-2xl font-black text-slate-800 mb-2">Acceso Restringido</h1>
            <p className="text-slate-500 text-sm mb-8 font-medium">Dashboard Clínico UCI Quirúrgica</p>
            
            <form onSubmit={handleSubmit} className="space-y-4">
              <input 
                type="password" 
                value={input}
                onChange={(e) => {setInput(e.target.value); setError(false);}}
                placeholder="Introduce la clave..."
                className="w-full px-5 py-3 rounded-xl bg-white/50 border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all font-bold text-center text-slate-700 placeholder-slate-400"
                autoFocus
              />
              <button type="submit" className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-600/30 transition-all active:scale-95">
                Entrar
              </button>
            </form>
            {error && <p className="mt-4 text-red-500 text-xs font-bold animate-pulse">⛔ Clave incorrecta</p>}
          </div>
        </div>
      );
    };

    // --- ICONOS ---
    const Icons = {
      Brain: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>,
      Wind: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>,
      Heart: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
      Droplet: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 22a7 7 0 0 0 7-7c0-2-2-3-4-3l-3-3-3 3c-2 0-4 1-4 3a7 7 0 0 0 7 7z"/></svg>,
      Thermometer: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>,
      Stomach: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 20H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2Z"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>,
      Bed: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M2 4v16"/><path d="M2 8h18a2 2 0 0 1 2 2v10"/><path d="M2 17h20"/><path d="M6 8v9"/></svg>,
      Alert: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
      Clipboard: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/></svg>,
      User: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>,
      Logout: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
    };
    const Icon = ({n, c}) => { const I = Icons[n]; return I ? <I className={c} /> : null; };

    // --- COMPONENTES UI DASHBOARD ---
    const BedCard = ({ data, onClick }) => {
      const isUCIN = data.unidad === 'UCIN';
      const colors = { 'Crítico': 'border-l-red-500 bg-red-100 text-red-700', 'Estable': 'border-l-emerald-500 bg-emerald-100 text-emerald-700', 'Alerta': 'border-l-amber-500 bg-amber-100 text-amber-700' };
      const status = colors[data.estado] || colors['Alerta'];
      const unitClass = isUCIN ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700';
      return (
        <div onClick={() => onClick(data)} className={`relative glass-card rounded-xl shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all p-5 cursor-pointer border border-slate-200 border-l-4 ${status.split(' ')[0]}`}>
          <div className="flex justify-between items-start mb-2">
             <div className="flex items-center gap-3">
               <div className="bg-slate-50 p-2 rounded-lg text-slate-400"><Icon n="Bed" c="w-6 h-6"/></div>
               <div><h3 className="text-xl font-black text-slate-800 leading-none">Cama {data.numero_cama}</h3><span className={`text-[10px] font-black px-2 py-0.5 rounded uppercase ${unitClass}`}>{data.unidad}</span></div>
             </div>
             <span className={`px-2 py-1 rounded text-xs font-bold uppercase ${status.substring(status.indexOf(' ')+1)}`}>{data.estado}</span>
          </div>
          <div className="flex items-center gap-2 text-xs font-bold text-slate-500 mb-3 bg-slate-50 p-1.5 rounded-lg border border-slate-100">
             <span className="flex items-center gap-1"><Icon n="User" c="w-3 h-3"/> {data.edad} años</span><span className="text-slate-300">|</span><span>Día {data.dias_estancia}</span>
          </div>
          <div><p className="text-xs text-slate-400 font-bold uppercase">Paciente</p><p className="text-2xl font-black text-slate-700 truncate">{data.paciente_id}</p></div>
          {data.alertas && <div className="mt-3 flex items-center gap-2 text-red-600 bg-red-50 px-2 py-1 rounded"><Icon n="Alert" c="w-4 h-4 animate-pulse"/><span className="text-xs font-bold">ATENCIÓN</span></div>}
        </div>
      );
    };

    const Section = ({ i, t, txt, col }) => (
      <div className="bg-white/80 p-4 rounded-2xl border border-slate-100 shadow-sm backdrop-blur-sm">
        <div className="flex items-center gap-2 mb-2"><div className={`p-2 rounded-lg ${col}`}><Icon n={i} c="w-5 h-5"/></div><h4 className="text-xs font-bold text-slate-500 uppercase">{t}</h4></div>
        <p className="text-sm font-medium text-slate-700 pl-10 leading-relaxed">{txt || "Sin datos."}</p>
      </div>
    );

    const Modal = ({ p, onClose }) => {
      if(!p) return null;
      const isUCIN = p.unidad === 'UCIN';
      const headCol = isUCIN ? 'bg-purple-600' : 'bg-blue-600';
      return (
        <div className="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50" onClick={onClose}>
          <div className="bg-slate-50 w-full max-w-6xl max-h-[95vh] overflow-y-auto rounded-3xl shadow-2xl" onClick={e=>e.stopPropagation()}>
            <div className="bg-white p-6 border-b border-slate-100 flex justify-between items-center sticky top-0 z-10 shadow-sm">
               <div className="flex items-center gap-4">
                 <div className={`h-14 w-14 ${headCol} rounded-xl flex items-center justify-center text-white font-black text-2xl shadow-md`}>{p.numero_cama}</div>
                 <div>
                    <h2 className="text-3xl font-black text-slate-800 tracking-tight">{p.paciente_id}</h2>
                    <div className="flex items-center gap-3 text-slate-500 font-bold text-sm mt-1">
                        <span className="bg-slate-100 px-2 py-0.5 rounded text-slate-600">{p.sexo}</span>
                        <span>{p.edad} años</span><span className="text-slate-300">•</span><span>Estancia: Día {p.dias_estancia}</span>
                    </div>
                 </div>
               </div>
               <button onClick={onClose} className="px-5 py-2.5 bg-slate-100 rounded-xl font-bold text-slate-600 hover:bg-slate-200 transition-colors">Esc Cerrar</button>
            </div>
            <div className="p-6 md:p-8 space-y-6">
               {p.antecedentes && p.antecedentes !== "?" && <div className="bg-slate-100/80 p-5 rounded-2xl border border-slate-200"><h3 className="text-xs font-black text-slate-400 uppercase tracking-widest mb-2">Antecedentes Personales (AP)</h3><p className="text-base font-medium text-slate-700 italic">{p.antecedentes}</p></div>}
               <div className={`p-1 rounded-2xl shadow-sm bg-gradient-to-r ${isUCIN ? 'from-purple-500 to-purple-400' : 'from-blue-500 to-blue-400'}`}><div className="bg-white p-5 rounded-xl"><div className="flex gap-2 mb-2 items-center text-slate-800"><Icon n="Clipboard" c="w-6 h-6"/><span className="font-black uppercase tracking-wide">Plan Terapéutico</span></div><p className="text-lg font-medium pl-8 leading-relaxed text-slate-800">{p.plan}</p></div></div>
               <div className="grid grid-cols-1 md:grid-cols-3 gap-5">
                 <Section i="Brain" t="Neurológico" txt={p.sistemas.neurologico} col="bg-indigo-100 text-indigo-600"/>
                 <Section i="Wind" t="Respiratorio" txt={p.sistemas.respiratorio} col="bg-sky-100 text-sky-600"/>
                 <Section i="Heart" t="Hemodinámico" txt={p.sistemas.hemodinamico} col="bg-rose-100 text-rose-600"/>
                 <Section i="Droplet" t="Renal" txt={p.sistemas.renal} col="bg-amber-100 text-amber-600"/>
                 <Section i="Thermometer" t="Infeccioso" txt={p.sistemas.infeccioso} col="bg-purple-100 text-purple-600"/>
                 <Section i="Stomach" t="Digestivo" txt={p.sistemas.digestivo} col="bg-lime-100 text-lime-600"/>
               </div>
            </div>
          </div>
        </div>
      );
    };

    // --- COMPONENTE PRINCIPAL (GESTIÓN DE SESIÓN) ---
    const App = () => {
      const [isLoggedIn, setIsLoggedIn] = useState(false);
      const [sel, setSel] = useState(null);

      // Al iniciar, miramos si ya estaba logueado en esta sesión para no pedir clave al recargar
      useEffect(() => {
        const session = sessionStorage.getItem("uci_auth");
        if (session === "true") setIsLoggedIn(true);
      }, []);

      const handleLoginSuccess = () => {
        setIsLoggedIn(true);
        sessionStorage.setItem("uci_auth", "true"); // Guarda la sesión mientras no cierren el navegador
      };
      
      const handleLogout = () => {
        setIsLoggedIn(false);
        setSel(null);
        sessionStorage.removeItem("uci_auth");
      };

      // Si no está logueado, mostramos SOLO la pantalla de Login
      if (!isLoggedIn) {
        return <LoginScreen onLogin={handleLoginSuccess} />;
      }

      // Si está logueado, mostramos el Dashboard normal
      const reas = PATIENTS.filter(p=>p.unidad==='REA');
      const ucins = PATIENTS.filter(p=>p.unidad==='UCIN');
      
      return (
        <div className="min-h-screen p-6 md:p-10 max-w-[1920px] mx-auto">
           <header className="mb-10 flex flex-col md:flex-row justify-between items-end gap-4">
              <div><h1 className="text-5xl font-black text-slate-800 tracking-tighter mb-2">UCI Quirúrgica <span className="text-blue-600">Dashboard</span></h1><p className="text-slate-500 font-medium">Vista clínica en tiempo real • REA + UCIN</p></div>
              <div className="flex gap-4 items-center">
                <div className="bg-white px-4 py-2 rounded-xl shadow-sm border border-slate-100 text-sm font-bold text-slate-400">Act: {new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                <button onClick={handleLogout} className="bg-red-50 hover:bg-red-100 text-red-600 p-2 rounded-xl transition-colors" title="Cerrar sesión"><Icon n="Logout" c="w-6 h-6"/></button>
              </div>
           </header>
           {reas.length>0 && <div className="mb-12"><h2 className="text-2xl font-black text-blue-900 mb-6 flex items-center gap-2"><span className="w-2 h-8 bg-blue-500 rounded-full"></span>REA</h2><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">{reas.map(p=><BedCard key={p.id} data={p} onClick={setSel}/>)}</div></div>}
           {ucins.length>0 && <div><h2 className="text-2xl font-black text-purple-900 mb-6 flex items-center gap-2"><span className="w-2 h-8 bg-purple-500 rounded-full"></span>UCIN</h2><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">{ucins.map(p=><BedCard key={p.id} data={p} onClick={setSel}/>)}</div></div>}
           {sel && <Modal p={sel} onClose={()=>setSel(null)}/>}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>