<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  
  <title>Acceso UCI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { background-color: #f0f4f8; background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 24px 24px; font-family: system-ui, sans-serif; }
    .glass-card { background: linear-gradient(145deg, #ffffff, #f8fafc); }
    .modal-backdrop { background-color: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); }
    .login-glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.5); }
    ::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
  </style>
  <script> tailwind.config = { theme: { extend: { colors: { lime: { 100: '#ecfccb', 600: '#65a30d' } } } } } </script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;
    const PATIENTS = [
  {
    "id": "rea-2",
    "numero_cama": "2",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "72",
    "sexo": "H",
    "dias_estancia": "59",
    "antecedentes": "HTA, DLP, Obesidad. Anemia ferropénica (hernia hiatal gigante, hemorroides, gastritis, angiodisplasias). Amnesia global transitoria (2022). Sd. depresivo. SAHS (CPAP). Lumbalgia crónica (Espondilosis L5-S1). DX: Endocarditis sobre bioprótesis aórtica (2021), Recambio de bioprótesis.",
    "plan": "Intentar mantener sin sedación IV por la noche. Próximo EEG 26/01/26. Intentar balance neutro o ligeramente negativo. Si ingesta insuficiente valorar NPT/PEG. Si aumentan secreciones, fiebre o marcadores, iniciar tratamiento con cefta-avibactan + colistina inhalada. Cambio de vías hoy.",
    "sistemas": {
      "neurologico": "Bradipsíquico sin deterioro del lenguaje. Periodos de desconexión frecuentes y movimientos esteriotipados de flexión/extensión de muñecas. Precisa sedación para agitación nocturna. Tratamiento antiepiléptico (lacosamida, perampanel). EEG 19/01: actividad bioeléctrica cerebral en coma, lentificada, desestructurada, escasa reactividad, brotes de actividad paroxística (SIRPID), interferencia paroxística lentificada (frontales, predominio izquierdos), actividad paroxística epileptiforme ocasional (temporal izquierda).",
      "hemodinamico": "Sin soporte vasopresor. Tendencia a la HTA (167/55 mmHg) pese a bisoprolol y amlodipino. RS 74 lpm. Hb 9.3 g/dl. AC: ruidos cardíacos regulares, soplo holosistólico. Pulsos periféricos presentes y simétricos, buena perfusión distal.",
      "respiratorio": "Cánula de plata con GNAF 30/30 para humidificación. SatpO2 100%. Buena mecánica respiratoria y buen intercambio gaseoso. Pocas secreciones blanquecinas. Tratamiento broncodilatador (Ipatropio). AP: mvc, sin ruidos patológicos. Rx tórax: cardiomegalia, hilios congestivos.",
      "renal": "Diuresis forzadas con furosemida 10 mgr/8h IV. Diuresis 2465 cc. Balance -1437 cc. Función renal conservada. Hiponatremia leve 131 mmol/l (tto Potasión por SNG). Potasio: 3.4 mmol/l. Peso 109kg.",
      "digestivo": "Ingesta oral en periodos de mejor nivel de conciencia sin atragantamientos. EF: abdomen globuloso, depresible, no doloroso, sin signos de peritonismo, peristaltismo conservado. No masas ni megalias. Perfil hepático normal.",
      "infeccioso": "Afebril y RFA NEGATIVOS. Leucocitos 7260/mm3, PCR 5.03 mg/dl. Sin tratamiento antibiótico. Finalizado tratamiento para la endocarditis. Cultivos: P. Aeruginosa VIM (BAS, carbapenem resistente), E. Hormaechei (FR), Acinetobacter bereziniae (BAS)."
    }
  },
  {
    "id": "rea-3",
    "numero_cama": "3",
    "unidad": "REA",
    "estado": "Estable",
    "edad": "55",
    "sexo": "H",
    "dias_estancia": "3",
    "antecedentes": "No RAMc. HTA. DLP. IQ: Fibroma espalda, cirugía mandibular con implante placa (1989). DX: Epiglotitis con quiste en valécula izquierda, absceso drenado quirúrgicamente.",
    "plan": "Reforzar la analgesia. Progresar dieta, si continúa la buena evolución será alta a planta en 24 horas.",
    "sistemas": {
      "neurologico": "Consciente, orientado y colaborador, sin focalidad neurológica. GCS: 15 puntos. Se queja de dolor de garganta.",
      "hemodinamico": "TA: 136/78 mmHg sin necesidad de aminas. FC: RS a 60 lpm, sin aminas. AC: tonos rítmicos, sin soplos ni roces.",
      "respiratorio": "Eupneico con VK al 50%. SatO2: 98-100%. No refiere sensación disneica, no sialorrea. En tto corticoideo con metilprednisolona 20mg/8h. AP: murmullo vesicular conservado, sin estertores patológicos.",
      "renal": "Urea: 60 mg/dl, Creatinina: 0.99 mg/dl. Diuresis ayer de 1410 cc. Balance equilibrado. Ionograma normal, fosfato: 2.9 mg/dl. Sin edemas en zonas declives.",
      "digestivo": "Abdomen blando y depresible, sin masas ni visceromegalias, peristaltismo disminuido. Actualmente en ayunas, glucemia alrededor de 130 mg/dl. Proteínas totales: 7.3 g/dl. Inicia tolerancia a líquidos hoy.",
      "infeccioso": "Afebril. Leucocitos: 14130/mm3, PCR: 9.89 mg/dl. En tratamiento con Augmentine 2g/8h desde 22/01/26."
    }
  },
  {
    "id": "rea-4",
    "numero_cama": "4",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "40",
    "sexo": "H",
    "dias_estancia": "5",
    "antecedentes": "No RAM. HTA, DM ni DLP. Obesidad. SAOS. Hiperuricemia. DX: TCE grave tras precipitación (30/12/25). Cerebritis post-TCE.",
    "plan": "Intentar descender propofol si no se agita. Si se puede, se pone en O2 T. Diálisis intermitente para reducción concentración vancomicina y evitar nefrotoxicidad. Reiniciar Clexane.",
    "sistemas": {
      "neurologico": "Sedación con dexmedetomidina (20ml/h) y propofol (20ml/h). Necesidad de contenciones mecánicas. Apertura ocular espontánea. No responde a órdenes. Tratamiento con clonidina, keppra, lacosamida, quetiapina, morfina. Herida quirúrgica frontoparietotemporal derecha sin drenaje de líquido desde la nueva sutura.",
      "hemodinamico": "Necesidad de NA 2ml/h (0.07mcg/kg/min) para mantener cifras tensionales. TA en torno a 130/55. FC 75-80lpm en ritmo sinusal. Lácticos normales. AC: tonos rítmicos. ECG: RS a 80lpm, sin alteraciones de repolarización.",
      "respiratorio": "Buena mecánica ventilatoria. MVC con roncus bilateral. En CPAP con FIO2 40%, FR 14, PEEP: 6, PS: 8mbar. VT: >500, Vmin 8.5lpm. SatO2 98-100%.",
      "renal": "FRA AKI 3. Diálisis intermitente pautada por nefrología. Urea: 195 mg/dl, Creatinina: 9 mg/dl. Diuresis: forzada con PC de furosemida a 1ml/h (3435cc en 24h, BH -2700cc). Sodio: 141 meq/l, Potasio: 4.2 meq/l, Fosfato: 12.9 mg/dl. Sin edemas. Posibilidad de Nefropatía inmunoalérgica por Vancomicina.",
      "digestivo": "Abdomen blando y depresible, sin masas ni visceromegalias, peristaltismo disminuido. En tratamiento con enema y micralax. Ha realizado deposiciones. Bilirrubina total, GOT, GPT normales. Nutrición enteral Atempero a 60ml/h con descanso nocturno, bien tolerada. Glucemia 120mg/dl.",
      "infeccioso": "Afebril. Leucocitos: 12.690, PCR: 8.44 mg/dl. Tratamiento con ceftarolina. Cultivos: SAMS (BAS), S. epidermidis (herida), Proteus mirabilis BLEE (frotis rectal). Cultivo liq cerebral intraqx: SIN MICROORGANISMOS."
    }
  },
  {
    "id": "rea-5",
    "numero_cama": "5",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "58",
    "sexo": "M",
    "dias_estancia": "2",
    "antecedentes": "ICTUS M2 izquierda. IQx: Trombectomía mecánica con reIOT inmediata por mal nivel de conciencia.",
    "plan": "Manejo en UCI tras trombectomía mecánica por ICTUS.",
    "sistemas": {
      "neurologico": "RASS: -3, BIS: 62. Sedación con propofol. Hemiparesia derecha. Pupilas puntiformes, isocóricas e hiporreactivas. TC de control: área de isquemia aguda establecida en territorio superficial de la ACM izquierda con zonas hiperdensas fronto-temporal sugestivas de extravasación de contraste.",
      "hemodinamico": "TA 114/80 mmHg. FC: 74/min, en FA. Noradrenalina en PC a 0.15 mcg/kg/min. Hgb: 11.5 g/dl. HCT: 35.1 %. AC: tonos arrítmicos, sin soplos ni roces.",
      "respiratorio": "FR: 17/min, SatO2: 98% con CPAP/PS (FIO2 50%, Vt: 450 cc, PEEP: 6 cmH2O, PS: 11 cmH2O). GSA: pH: 7.3, pCO2: 45 mmHg, pO2: 170 mmHg, HCO3: 22.1 mmol/l. AP: murmullo vesicular conservado, sin estertores patológicos.",
      "renal": "Urea: 59 mg/dl, Creatinina: 2.54 mg/dl. Diuresis: 2970 cc (ayer), Balance: -1250 cc (ayer). Sodio: 139 meq/l, Potasio: 4.1 meq/l. Sin tratamiento diurético ni edemas en zonas declives.",
      "digestivo": "Abdomen blando y depresible, sin masas ni visceromegalias, peristaltismo disminuido. Bilirrubina total: 0.28 mg/dl, GOT: 15 UI/l, GPT: 7 UI/L. Glucemia: 164 mg/dl (requiere insulina). Proteínas totales: 5.6 g/dl. Soporte nutricional: glucosado al 10% y N. enteral.",
      "infeccioso": "Afebril (temperatura máxima 36.7ºC). Leucocitos: 15610/mm3, PCR: 22.6 mg/dl. Tratamiento antibiótico con piperacilina/tazobactam."
    }
  },
  {
    "id": "rea-6",
    "numero_cama": "6",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "75",
    "sexo": "M",
    "dias_estancia": "61",
    "antecedentes": "Sustitución valvular aórtica biológica + tubo de A Asc supracoronario. Reintervención por taponamiento cardíaco. FA rápida. Fracaso renal agudo (resuelto). Hemorragia alveolar. Miopatía de enfermo crítico.",
    "plan": "Desconexiones cortas a pieza en T, mantener PS. Incentivar ingesta oral. Cambio de vías hoy.",
    "sistemas": {
      "neurologico": "Consciente y orientada, negacionista y apática. Empieza a comer (escasamente) y tomar pastillas. Valorada por psiquiatría, tto con quetiapina, escitalopram, mirtazapina. RASS 0. Miopatía del paciente crítico. Se niega a mover extremidades. Fisioterapia.",
      "hemodinamico": "Tendencia a la HTA en tto con antiHTA orales (bisoprolol, captopril, amlodipino, hidroclorotiazida, doxazosina). TA 142/68 mmHg. RS 66 lpm (episodios previos de FA rápida). AC: ruidos cardíacos regulares, soplo sistólico. Pulsos periféricos presentes y simétricos, buena perfusión distal. Hb 9.6 g/dl.",
      "respiratorio": "Destete respiratorio lento. TQT (cánula cambiada el 21/01) a cánula de plata tras 72h de O2 en T con mala tolerancia y necesidad de cambio a shiley. En PS con Vt sobre 450 ml, Ps: 12 cmH2O, PEEP: 6 cmH2O, FIO2: 45%. GSA: pH 7.45, pCO2 56 mmHg, pO2 65 mmHg. Secreciones abundantes. En tto con budesonida e ipratropio nebulizados, pautado muconeb. AR: MVC, roncus dispersos en hemitórax derecho. Rx tórax: aumento de densidad parahiliar.",
      "renal": "Diuresis forzadas con furosemida 10 mg/12 h IV. Ritmo miccional > 1 ml/kg/h. Edemas de los codos, edemas en raíz de MMII y pretibiales menos marcados. Función renal conservada. Urea 62 mg/dl, Cr 0.57 mg/dl. Na 141 mmol/l, K 3.8 mmol/l.",
      "digestivo": "Abdomen blando y depresible, no doloroso, sin signos de peritonismo, peristaltismo conservado. Hizo deposiciones escasamente hace 3 días. Ingesta oral, Nutrición parenteral complementaria por ingesta insuficiente. Buen control glucémico sin insulina.",
      "infeccioso": "Ayer tuvo fiebre de hasta 38 ºC. PCR 22.72 (ligero aumento), Leucocitos 13530/mm3. En tratamiento ciprofloxacino 400 mg/8 horas. Cultivos: Staph. epidermidis (HC, punta catéter), C. albicans (BAS), C. glabrata (Uro), Pseudomona aeruginosa (Uro), S. aureus (PCR broncoaspirado)."
    }
  },
  {
    "id": "rea-7",
    "numero_cama": "7",
    "unidad": "REA",
    "estado": "Estable",
    "edad": "75",
    "sexo": "H",
    "dias_estancia": "1",
    "antecedentes": "Insuficiencia Aórtica. Dilatación de Raíz Aórtica. IQx: Cirugía de Bono-Bentall con conducto valvulado biológico 27MM.",
    "plan": "Ajuste PC de morfina. Vigilancia drenajes. Colocación medias compresivas, valorar iniciar mañana profilaxis con clexane. Progresar dieta.",
    "sistemas": {
      "neurologico": "Consciente, orientado y colaborador, sin focalidad neurológica. GCS: 15 puntos. Dolor controlado con PC de morfina 1mg/h.",
      "hemodinamico": "Necesidad ayer de PC de clevidipino puntual, actualmente suspendida. TA 136/58 mmHg. FC: 77/min, en RS sin aminas. Troponina I: 1297 pg/l (descenso). AC: tonos rítmicos, sin soplos audibles. Drenajes A: 650cc, B: 120cc serohemático.",
      "respiratorio": "Eupneico SatO2: 99 % con GN 3lpm. Ha empezado a realizar inspirometría incentivada sin dificultad. GSA: pH: 7.40, pCO2: 43 mmHg, pO2: 79 mmHg. AP: murmullo vesicular conservado, sin estertores patológicos. Rx Tórax 23/01: sin alteraciones.",
      "renal": "Función renal normal con Urea: 30 mg/dl, Creatinina: 0.70 mg/dl. Diuresis: 1585 cc ayer, ritmo de 1.2ml/kg/h. Balance: +947 cc ayer. Sodio: 134 meq/l, Potasio: 4.1 meq/l.",
      "digestivo": "Abdomen blando y depresible, no doloroso. Bilirrubina total: 1.44 mg/dl, GOT: 29 UI/l, GPT: 8 UI/L. Glucemia alrededor de 159 mg/dl (controlada con insulina). Proteínas totales: 5.5 g/dl. Ha iniciado tolerancia oral a líquidos, se encuentra inapetente.",
      "infeccioso": "Afebril ayer. Leucocitos: 8.890/mm3, PCR: 13.05 mg/dl. En profilaxis con cefazolina."
    }
  },
  {
    "id": "rea-8",
    "numero_cama": "8",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "69",
    "sexo": "H",
    "dias_estancia": "4",
    "antecedentes": "Endocarditis Bacteriana sobre Válvula Mitral. Insuficiencia Mitral Severa. IQx: Sustitución Valvular Mitral por bioprótesis. Delirio hiperactivo.",
    "plan": "Aumentar dosis de quetiapina hasta pauta habitual domiciliaria. Haloperidol si precisa, disminuir dexmedetomidina. Retirada de noradrenalina. Paso amiodarona a oral. Mantener mismas dosis de clexane. Valorar mañana según evolución respiratoria drenaje derrame izdo. Reponer CLK. Evitar balance muy positivo. Pautar Fresubin.",
    "sistemas": {
      "neurologico": "Delirio hiperactivo (haloperidol, dexmedetomidina en descenso, mirtazapina, tiaprizal, quetiapina, zolpidem). Agresividad asociada. Pupilas IC y NR. Movilidad espontánea de las 4 extremidades. Aparentemente sin dolor, con analgesia IV primer nivel alterno.",
      "hemodinamico": "Hace dos días episodio de FA paroxística con RVR sin inestabilidad grave, se inició amiodarona, actualmente en sinusal. Requiere reinicio de NA a dosis bajas (1ml/h). TA 115/72 mmHg. FC 71 RS. Láctico 1.6. AC: tonos rítmicos, sin soplos audibles. Drenajes retirados.",
      "respiratorio": "GN 3lpm. SatO2: 100%. Buena mecánica y auscultación, hipoventilación base izda. Iniciada fisioterapia respiratoria. GSA: pH: 7.44, pCO2: 30 mmHg, pO2: 92 mmHg. Rx Tórax 24/01: signos de sobrecarga de volumen, infiltrados bilaterales.",
      "renal": "Leve deterioro de la función renal, con diuresis conservada. Fuerzo con furosemida 10 mg/8h. Urea: 94 mg/dl, Creatinina: 1.23 mg/dl. Diuresis: 1475 cc ayer. Balance: +127 mL ayer. Sodio: 135 meq/l, Potasio: 3.1 meq/l.",
      "digestivo": "Abdomen blando, depresible, no doloroso. Deposiciones de aspecto normal. Colocó SNG ayer para nutrición enteral, hoy arrancada por delirio. Transaminasas normales. Glucemia 190-120 mg/dl (sin insulina). Proteínas totales: 5.5. Tolerando dieta oral.",
      "infeccioso": "Afebril ayer. Leucocitos en descenso: 8.180, PCR: 30.37, PCT 3.7. ATB Cefotaxima. Cultivos: Streptococcus mutans (HC), Proteus mirabilis (Urocultivo)."
    }
  },
  {
    "id": "rea-9",
    "numero_cama": "9",
    "unidad": "REA",
    "estado": "Crítico",
    "edad": "67",
    "sexo": "H",
    "dias_estancia": "18",
    "antecedentes": "RAM a petidina. Fumador. HTA. DLP. AdenoCa Pulmón LSD (2010), bilobectomía. AAA infrarrenal + A. Iliaca común izda. (EVAR 2022, reintervención por migración 2025). Litiasis renal izda. Pancreatitis aguda (2007). IRC en prediálisis. Estenosis renal severa bilateral.",
    "plan": "Intentar disminuir dexmedetomidina, progresar en el destete. A la espera de EcoDoppler de miembro inferior derecho. Mantener dosis HBPM (Tinzaparina 12.000U). Ajustar parámetros ventilatorios, mantener PS 6 + PEEP 6, progresar en el destete. Mantener Bicarbonato 1/6 M en PC. Mantener Diálisis Intermitente a cargo de Nefrología. Mantener Ceftolozano/Tazobactam, Linezolid y Anidulafungina. Mantener tratamiento procinético.",
    "sistemas": {
      "neurologico": "Consciente y orientado. Tranquilo. Apertura ocular espontánea. Responde a órdenes. Con PC Dexmedetomidina 8ml/h. Pupilas medias, isocóricas y reactivas.",
      "hemodinamico": "Hoy Ritmo Sinusal con 75 lpm. Tendencia a hipertensión arterial TA 160/75 sin necesidad de aminas. Perfusión en MMII: buena coloración. Láctico 1.5. AC: rítmica sin soplos audibles.",
      "respiratorio": "Paciente con traqueotomía desde el 16/1. Bien adaptado al respirador con PS 6 y PEEP 6. FiO2 0.35%. AP: MVC con roncus difusos en ambos campos pulmonares. GA: pH 7.41, pCO2 30, pO2 143, HCO3 19. Rx TORAX 24/01: Persiste condensación en basal derecho + derrame pleural. ECO pulmonar: sin presencia de líneas B, derrame pleural derecho.",
      "renal": "Anteriormente con TRRC, ahora en diálisis intermitente (desde hace 3 días). Edemas con fóveas en MMII y superiores. Peso 88 Kg. Aumento progresivo de la diuresis, actualmente con furosemida 20mg/8h. 1.630cc en últimas 24h, BH neutro. Cr 5.14. Iones: K 3.6, Na 133.",
      "digestivo": "Dieta absoluta, con nutrición parenteral. Abdomen distendido y timpánico (menos que días previos), sin ruidos presentes. Deposiciones regulares y abundantes. Débito claro por SNG. Enzimas hepáticas de citólisis en descenso (GOT 58, GPT 11); enzimas de colestasis altas (GGT 229, FA 303, BilT 1.5). PIA: 15 mmHg. TAC 22/1: No aumento del hematoma retroperitoneal ni del saco aneurismático. Moderada distensión de intestino.",
      "infeccioso": "Paciente en aislamiento por E.Coli BLEE. Ha realizado pico febril durante la noche. RFA elevados. PCR 13.52, Leucocitos 10.970. Actualmente con Ceftolozano/Tazobactam, Linezolid y Anidulafungina. Cultivos: E.Coli BLEE (FR), Pseudomona Aureginosa (BAS), Enterococus Faecium (BAS), Cándida Albicans (BAS)."
    }
  },
  {
    "id": "rea-11",
    "numero_cama": "11",
    "unidad": "REA",
    "estado": "Estable",
    "edad": "64",
    "sexo": "M",
    "dias_estancia": "2",
    "antecedentes": "Carcinomatosis peritoneal secundaria a neoplasia de colon derecho. IQx: cirugía de citorreducción (resección ileo-tranversa, oforectomía bilateral, omentectomía, resección de implantes) + HIPEC (Mitomicina).",
    "plan": "+ 1CH. Vigilancia plaquetopenia. Insistir en espirometría incentivadora.",
    "sistemas": {
      "neurologico": "Consciente, orientada y colaboradora. Buen estado general. Dolor controlado con analgesia epidural (ropivacaína) + analgesia de primer escalón.",
      "hemodinamico": "Estable, con TAM > 65-70mmHg (145-150/60mmHg) en RS a 75lpm. Láctico 1. Buena perfusión periférica. AC: rítmica, sin soplos. Hb: 8.5 g/dl, Plaquetas: 87.000.",
      "respiratorio": "Eupneica con buena mecánica ventilatoria e intercambio gaseoso con GN convencionales a 2lpm. SatO2 100%. AP: mvc, sin ruidos sobreañadidos. RxT: sin hallazgos significativos. GSA: pH 7.44, pCO2 41, pO2 122, HCO3 27.8, lactato 1.",
      "renal": "Diuresis conservadas con buena función renal. Cr 0.69. Diuresis: 2435ml y balance ligeramente positivo +259cc. Iones: Na 140, K 4.3. Ayer ligera hematuria, hoy orina clara. Sin edemas en zonas declives.",
      "digestivo": "Abdomen blando y depresible, ligeramente doloroso a la palpación profunda (no impresiona de peritonitis). RHA audibles. Apósito laparotomía limpio. Glucemias: 137. Proteínas totales: 4.8. En dieta absoluta con fluidoterapia de mantenimiento. Enzimas hepáticas: GOT/GPT: 23/36. Escaso débito serohemático por drenajes abdominales. Con nutrición parenteral.",
      "infeccioso": "Afebril, sin signos clínicos ni analíticos sugestivos de infección. PCR 16.56. LEUCOS: 6.68. Sin tratamiento antibiótico."
    }
  },
  {
    "id": "ucin-2",
    "numero_cama": "2",
    "unidad": "UCIN",
    "estado": "Crítico",
    "edad": "77",
    "sexo": "H",
    "dias_estancia": "3",
    "antecedentes": "Adenocarcinoma de Páncreas. IQx: Resección Pancreática (cuerpo y cola) + Esplenectomía.",
    "plan": "Mantengo ingreso. Inicio ATB con augmentine, control RFA por la tarde, sino mejoría cambio de ATB y posibilidad de TAC próximamente. Agua de confort + NPT (1500 ml + 8 gr N2). Inicio Vit K, primperan, carga de fosfato monopotásico.",
    "sistemas": {
      "neurologico": "Consciente, orientado y colaborador, sin focalidad neurológica. Dolor controlado con paracetamol + metamizol. Descanso nocturno con Lorazepam.",
      "hemodinamico": "Tendencia a HTA sistólica. RS a 70 lpm. Lactato 3. Adecuados pulsos pedios.",
      "respiratorio": "GN 2 lpm con SatO2 100%. Adecuada mecánica respiratoria. No expectoración purulenta. GVenosa central: pH: 7.40, HCO3: 31 mmol/l, EB: 5mmol/l, láctico: 3 mmol/l. AP: murmullo vesicular conservado, sin estertores patológicos.",
      "renal": "Empeoramiento leve función renal. Creatinina: 1.23 mg/dl. Diuresis: 2.7 litros ayer, Balance: +800 ml ayer. Sodio: 141 meq/l, Potasio: 3.6 meq/l, Fosfato: 1.9 mg/dl. Con tto furosemida + bicarbonato.",
      "digestivo": "Abdomen timpánico sin defensa ni peristaltismo (íleo). Nutrición líquida. Proteínas totales: 5.8.",
      "infeccioso": "Afebril. Marcadores de infección en aumento: Leucocitos: 12.000/mm3, PCR: 23 -> 29 mg/dl, Procalcitonina: 8 ng/ml. Inicio de ATB con Augmentine."
    }
  },
  {
    "id": "ucin-5",
    "numero_cama": "5",
    "unidad": "UCIN",
    "estado": "Crítico",
    "edad": "65",
    "sexo": "M",
    "dias_estancia": "1",
    "antecedentes": "Perforación de colon. IQx: Resección de muñones de ileon y colon (extremo de asa ciega) por peritonitis purulenta. Liberación de adherencias a pared abdominal e interasas, invaginación de ambos muñones, lavado abdominal abundante.",
    "plan": "Mantener ingreso. Mejorar analgesia (TAP bilateral con ropivacaína ecoguiada). Agua de confort + medicación VO (escicarbazepina + lacosamida). No iniciar NP, tampoco tiene VC. Relleno vascular (albuminón + gluconato cálcico). Inicio Vit K. Control RFA por la tarde.",
    "sistemas": {
      "neurologico": "Consciente, orientado y colaborador, sin focalidad neurológica. Ramsey 2. EVA reposo 4-5 (dolor flanco derecho que limita expectoración) con paracetamol + metamizol.",
      "hemodinamico": "EH sin aminas en RS (TA 120/80 a 90 lpm). AC: tonos rítmicos. Sensación de sed. Pulsos pedios palpables. Lactato 0.9. Eco cardio: Adecuada contractilidad biventricular, E<A (leve disfunción diastólica), HVI leve. VCI 5 mm, colapsable >50% (sugiere hipovolemia).",
      "respiratorio": "Eupneica con GN 2 lpm con SatO2: 96%. Hipoventilación leve basal. No expectora por dolor. GVenosa central: pH: 7.35, pCO2: 45 mmHg, pO2: 47 mmHg, HCO3: 25 mmol/l, EB: -1 mmol/l, láctico: 1mmol/l. AP: murmullo vesicular conservado, sin estertores patológicos.",
      "renal": "Oliguria últimas horas (25-15 ml/h). Creatinina: 0.48 mg/dl. Sodio: 133 meq/l, Potasio: 3.9 meq/l. Sin edemas. Sensación de sed leve.",
      "digestivo": "Abdomen blando y depresible, sin masas ni visceromegalias, peristaltismo disminuido. Sin drenaje. Ayunas. Buen control glucémico.",
      "infeccioso": "Afebril. Leucocitos: 12.000/mm3, PCR: 14 mg/dl, Procalcitonina: 0.4 ng/ml. En tratamiento con Tazocel desde 23-1-26."
    }
  }
];
    const PASSWORD_CORRECTA = "misbalare2720"; // La contraseña se inyecta aquí desde el script

    // --- COMPONENTE DE LOGIN ---
    const LoginScreen = ({ onLogin }) => {
      const [input, setInput] = useState("");
      const [error, setError] = useState(false);

      const handleSubmit = (e) => {
        e.preventDefault();
        // Convertimos a minúsculas para que no importe si escriben "UCI" o "uci"
        if (input.toLowerCase() === PASSWORD_CORRECTA.toLowerCase()) {
          onLogin();
        } else {
          setError(true);
          setInput("");
        }
      };

      return (
        <div className="min-h-screen flex items-center justify-center p-4">
          <div className="login-glass p-10 rounded-3xl shadow-2xl max-w-sm w-full text-center">
            <div className="mb-6 inline-flex p-4 bg-blue-600 rounded-2xl text-white shadow-lg shadow-blue-500/30">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-8 h-8"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
            </div>
            <h1 className="text-2xl font-black text-slate-800 mb-2">Acceso Restringido</h1>
            <p className="text-slate-500 text-sm mb-8 font-medium">Dashboard Clínico UCI Quirúrgica</p>
            
            <form onSubmit={handleSubmit} className="space-y-4">
              <input 
                type="password" 
                value={input}
                onChange={(e) => {setInput(e.target.value); setError(false);}}
                placeholder="Introduce la clave..."
                className="w-full px-5 py-3 rounded-xl bg-white/50 border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all font-bold text-center text-slate-700 placeholder-slate-400"
                autoFocus
              />
              <button type="submit" className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-600/30 transition-all active:scale-95">
                Entrar
              </button>
            </form>
            {error && <p className="mt-4 text-red-500 text-xs font-bold animate-pulse">⛔ Clave incorrecta</p>}
          </div>
        </div>
      );
    };

    // --- ICONOS ---
    const Icons = {
      Brain: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>,
      Wind: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>,
      Heart: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
      Droplet: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 22a7 7 0 0 0 7-7c0-2-2-3-4-3l-3-3-3 3c-2 0-4 1-4 3a7 7 0 0 0 7 7z"/></svg>,
      Thermometer: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>,
      Stomach: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 20H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2Z"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>,
      Bed: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M2 4v16"/><path d="M2 8h18a2 2 0 0 1 2 2v10"/><path d="M2 17h20"/><path d="M6 8v9"/></svg>,
      Alert: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
      Clipboard: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/></svg>,
      User: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>,
      Logout: (p)=><svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
    };
    const Icon = ({n, c}) => { const I = Icons[n]; return I ? <I className={c} /> : null; };

    // --- COMPONENTES UI DASHBOARD ---
    const BedCard = ({ data, onClick }) => {
      const isUCIN = data.unidad === 'UCIN';
      const colors = { 'Crítico': 'border-l-red-500 bg-red-100 text-red-700', 'Estable': 'border-l-emerald-500 bg-emerald-100 text-emerald-700', 'Alerta': 'border-l-amber-500 bg-amber-100 text-amber-700' };
      const status = colors[data.estado] || colors['Alerta'];
      const unitClass = isUCIN ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700';
      return (
        <div onClick={() => onClick(data)} className={`relative glass-card rounded-xl shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all p-5 cursor-pointer border border-slate-200 border-l-4 ${status.split(' ')[0]}`}>
          <div className="flex justify-between items-start mb-2">
             <div className="flex items-center gap-3">
               <div className="bg-slate-50 p-2 rounded-lg text-slate-400"><Icon n="Bed" c="w-6 h-6"/></div>
               <div><h3 className="text-xl font-black text-slate-800 leading-none">Cama {data.numero_cama}</h3><span className={`text-[10px] font-black px-2 py-0.5 rounded uppercase ${unitClass}`}>{data.unidad}</span></div>
             </div>
             <span className={`px-2 py-1 rounded text-xs font-bold uppercase ${status.substring(status.indexOf(' ')+1)}`}>{data.estado}</span>
          </div>
          <div className="flex items-center gap-2 text-xs font-bold text-slate-500 mb-3 bg-slate-50 p-1.5 rounded-lg border border-slate-100">
             <span className="flex items-center gap-1"><Icon n="User" c="w-3 h-3"/> {data.edad} años</span><span className="text-slate-300">|</span><span>Día {data.dias_estancia}</span>
          </div>
          <div><p className="text-xs text-slate-400 font-bold uppercase">Paciente</p><p className="text-2xl font-black text-slate-700 truncate">{data.paciente_id}</p></div>
          {data.alertas && <div className="mt-3 flex items-center gap-2 text-red-600 bg-red-50 px-2 py-1 rounded"><Icon n="Alert" c="w-4 h-4 animate-pulse"/><span className="text-xs font-bold">ATENCIÓN</span></div>}
        </div>
      );
    };

    const Section = ({ i, t, txt, col }) => (
      <div className="bg-white/80 p-4 rounded-2xl border border-slate-100 shadow-sm backdrop-blur-sm">
        <div className="flex items-center gap-2 mb-2"><div className={`p-2 rounded-lg ${col}`}><Icon n={i} c="w-5 h-5"/></div><h4 className="text-xs font-bold text-slate-500 uppercase">{t}</h4></div>
        <p className="text-sm font-medium text-slate-700 pl-10 leading-relaxed">{txt || "Sin datos."}</p>
      </div>
    );

    const Modal = ({ p, onClose }) => {
      if(!p) return null;
      const isUCIN = p.unidad === 'UCIN';
      const headCol = isUCIN ? 'bg-purple-600' : 'bg-blue-600';
      return (
        <div className="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50" onClick={onClose}>
          <div className="bg-slate-50 w-full max-w-6xl max-h-[95vh] overflow-y-auto rounded-3xl shadow-2xl" onClick={e=>e.stopPropagation()}>
            <div className="bg-white p-6 border-b border-slate-100 flex justify-between items-center sticky top-0 z-10 shadow-sm">
               <div className="flex items-center gap-4">
                 <div className={`h-14 w-14 ${headCol} rounded-xl flex items-center justify-center text-white font-black text-2xl shadow-md`}>{p.numero_cama}</div>
                 <div>
                    <h2 className="text-3xl font-black text-slate-800 tracking-tight">{p.paciente_id}</h2>
                    <div className="flex items-center gap-3 text-slate-500 font-bold text-sm mt-1">
                        <span className="bg-slate-100 px-2 py-0.5 rounded text-slate-600">{p.sexo}</span>
                        <span>{p.edad} años</span><span className="text-slate-300">•</span><span>Estancia: Día {p.dias_estancia}</span>
                    </div>
                 </div>
               </div>
               <button onClick={onClose} className="px-5 py-2.5 bg-slate-100 rounded-xl font-bold text-slate-600 hover:bg-slate-200 transition-colors">Esc Cerrar</button>
            </div>
            <div className="p-6 md:p-8 space-y-6">
               {p.antecedentes && p.antecedentes !== "?" && <div className="bg-slate-100/80 p-5 rounded-2xl border border-slate-200"><h3 className="text-xs font-black text-slate-400 uppercase tracking-widest mb-2">Antecedentes Personales (AP)</h3><p className="text-base font-medium text-slate-700 italic">{p.antecedentes}</p></div>}
               <div className={`p-1 rounded-2xl shadow-sm bg-gradient-to-r ${isUCIN ? 'from-purple-500 to-purple-400' : 'from-blue-500 to-blue-400'}`}><div className="bg-white p-5 rounded-xl"><div className="flex gap-2 mb-2 items-center text-slate-800"><Icon n="Clipboard" c="w-6 h-6"/><span className="font-black uppercase tracking-wide">Plan Terapéutico</span></div><p className="text-lg font-medium pl-8 leading-relaxed text-slate-800">{p.plan}</p></div></div>
               <div className="grid grid-cols-1 md:grid-cols-3 gap-5">
                 <Section i="Brain" t="Neurológico" txt={p.sistemas.neurologico} col="bg-indigo-100 text-indigo-600"/>
                 <Section i="Wind" t="Respiratorio" txt={p.sistemas.respiratorio} col="bg-sky-100 text-sky-600"/>
                 <Section i="Heart" t="Hemodinámico" txt={p.sistemas.hemodinamico} col="bg-rose-100 text-rose-600"/>
                 <Section i="Droplet" t="Renal" txt={p.sistemas.renal} col="bg-amber-100 text-amber-600"/>
                 <Section i="Thermometer" t="Infeccioso" txt={p.sistemas.infeccioso} col="bg-purple-100 text-purple-600"/>
                 <Section i="Stomach" t="Digestivo" txt={p.sistemas.digestivo} col="bg-lime-100 text-lime-600"/>
               </div>
            </div>
          </div>
        </div>
      );
    };

    // --- COMPONENTE PRINCIPAL (GESTIÓN DE SESIÓN) ---
    const App = () => {
      const [isLoggedIn, setIsLoggedIn] = useState(false);
      const [sel, setSel] = useState(null);

      // Al iniciar, miramos si ya estaba logueado en esta sesión para no pedir clave al recargar
      useEffect(() => {
        const session = sessionStorage.getItem("uci_auth");
        if (session === "true") setIsLoggedIn(true);
      }, []);

      const handleLoginSuccess = () => {
        setIsLoggedIn(true);
        sessionStorage.setItem("uci_auth", "true"); // Guarda la sesión mientras no cierren el navegador
      };
      
      const handleLogout = () => {
        setIsLoggedIn(false);
        setSel(null);
        sessionStorage.removeItem("uci_auth");
      };

      // Si no está logueado, mostramos SOLO la pantalla de Login
      if (!isLoggedIn) {
        return <LoginScreen onLogin={handleLoginSuccess} />;
      }

      // Si está logueado, mostramos el Dashboard normal
      const reas = PATIENTS.filter(p=>p.unidad==='REA');
      const ucins = PATIENTS.filter(p=>p.unidad==='UCIN');
      
      return (
        <div className="min-h-screen p-6 md:p-10 max-w-[1920px] mx-auto">
           <header className="mb-10 flex flex-col md:flex-row justify-between items-end gap-4">
              <div><h1 className="text-5xl font-black text-slate-800 tracking-tighter mb-2">UCI Quirúrgica <span className="text-blue-600">Dashboard</span></h1><p className="text-slate-500 font-medium">Vista clínica en tiempo real • REA + UCIN</p></div>
              <div className="flex gap-4 items-center">
                <div className="bg-white px-4 py-2 rounded-xl shadow-sm border border-slate-100 text-sm font-bold text-slate-400">Act: {new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                <button onClick={handleLogout} className="bg-red-50 hover:bg-red-100 text-red-600 p-2 rounded-xl transition-colors" title="Cerrar sesión"><Icon n="Logout" c="w-6 h-6"/></button>
              </div>
           </header>
           {reas.length>0 && <div className="mb-12"><h2 className="text-2xl font-black text-blue-900 mb-6 flex items-center gap-2"><span className="w-2 h-8 bg-blue-500 rounded-full"></span>REA</h2><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">{reas.map(p=><BedCard key={p.id} data={p} onClick={setSel}/>)}</div></div>}
           {ucins.length>0 && <div><h2 className="text-2xl font-black text-purple-900 mb-6 flex items-center gap-2"><span className="w-2 h-8 bg-purple-500 rounded-full"></span>UCIN</h2><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">{ucins.map(p=><BedCard key={p.id} data={p} onClick={setSel}/>)}</div></div>}
           {sel && <Modal p={sel} onClose={()=>setSel(null)}/>}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>